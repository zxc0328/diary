<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>January 10, 2017</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/styles/global.css"><link rel="stylesheet" href="/diary/styles/tomorrow.css"><link rel="stylesheet" href="/diary/styles/diary.css"></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>January 10, 2017</h1></header><div class="content"><div class="diary"><h2 id="-">《忍者秘籍》第二版笔记 第三章</h2>
<h3 id="-">笔记</h3>
<h4 id="-">函数是一等公民</h4>
<p>前面主要就讲了JS里函数是一等公民。和其他的类型是一样的。具体有几点：</p>
<ul>
<li>可以用字面量声明</li>
<li>可以作为参数</li>
<li>可以作为函数返回值</li>
<li>可以被赋值给变量和属性</li>
<li>可以有属性和方法</li>
</ul>
<h4 id="-">函数的两个小技巧</h4>
<p>利用函数的一等公民特点，可以做一些事情，比如给函数加一个属性叫<code>id</code>，用来保存unique的函数集合。</p>
<p>也可以直接在函数的属性上缓存数据，这样可以在函数重新调用时加速（如果之前已经用同样的参数调用过的话）。</p>
<h4 id="-">函数的类型</h4>
<p>这里主要需要分清的是函数声明和函数表达式。</p>
<p>一个普通的声明，如果前面有<code>+</code>，<code>-</code>，<code>!</code>，<code>~</code>运算符或者<code>(</code>，就会被当做一个函数表达式。这个主要是JS语法上的东西。可能需要去看ECMA规范才能完全弄清。但学了编译原理之后已经清楚很多了，这个就是在词法分析的时候，判定表达式和声明的语法问题。</p>
<h4 id="-">箭头函数</h4>
<p>一个语法上的gotcha，如果箭头函数的block只有一句expression，就可以省略花括号，而且这个expression的值会默认作为箭头函数的返回值。但如果用了花括号，那就不会默认返回expression的值了。</p>
<h4 id="rest-parameter">rest parameter</h4>
<p>也是语法上的，rest parameter必须在参数列表的最后，不然会报错。</p>
<h3 id="-">练习</h3>
<h4 id="3-6-1">3.6.1</h4>
<p>The first one and the last one.</p>
<h4 id="3-6-2">3.6.2</h4>
<p>function expression. //如果不是单独的函数声明的话，就是说如果不被包括在其他表达式内的话，才是一个函数声明，这里第一个例子里，当前作用域里是访问不到那个具名的函数的，因为这是一个函数表达式，就算有名字，也不是函数声明。</p>
<p>arrow function.</p>
<p>function expression.</p>
<p>function declaration.</p>
<p>function declaration.</p>
<p>function expression.</p>
<p>arrow function.</p>
<h4 id="3-6-3">3.6.3</h4>
<p><code>samurai</code> : <code>&quot;Tomoe&quot;</code></p>
<p><code>ninja</code> : <code>undefined</code></p>
<h4 id="3-6-4">3.6.4</h4>
<p>first: a:<code>1</code> b:<code>2</code> c:<code>[3,4,5]</code></p>
<p>second: a:<code>undefined</code>, b:<code>undefined</code>,c:<code>[]</code></p>
<h4 id="3-6-5">3.6.5</h4>
<p>message1: <code>Yoshi katana</code></p>
<p>message2: <code>Yoshi wakizashi</code></p>
</div></div><footer class="footer"><address class="author">Copyright &copy;<a rel="author" href="https://github.com/zindex" class="author-name">Zindex</a>-<a href="https://github.com/zxc0328/diary-content" class="source-repo">Source</a></address><p>Generated by<a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>