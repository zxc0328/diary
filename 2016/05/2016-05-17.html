<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>May 17, 2016</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/styles/global.css"><link rel="stylesheet" href="/diary/styles/tomorrow.css"><link rel="stylesheet" href="/diary/styles/diary.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63818301-1', 'auto');
ga('send', 'pageview');</script></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>May 17, 2016</h1></header><div class="content"><div class="diary"><h2 id="-">前端框架模板技术分类</h2>
<h3 id="-">字符串模板</h3>
<p>字符串模板的典型代表就是Backbone。Backbone的View中使用<code>innerHTML()</code>这个API来更新视图。这意味着重新渲染字符串模板，并通过<code>innerHTML()</code>，删除之前的DOM结构，重新设置DOM。</p>
<p>虽然只更新一次DOM，但如果DOM结构非常复杂，渲染的效率应该还是很低的。这种办法的短处在于无法实现局部刷新。并且会丢失之前DOM结构中的状态（绑定的事件之类）。当然Backbone让我觉得不足的还有一个地方就是没有数据绑定，当然这个和今天的主题无关就是了。</p>
<p>所以字符串模板在目前看来是不被推荐使用的。</p>
<h3 id="dom-based-template">DOM based Template</h3>
<p>这种技术的代表有Angular。Angular 1当时的slogan是HTML enhanced for WebApp。这个描述还是很恰当的。因为Angular使用基于DOM的模板，也就是说这个模板是合法的HTML。其中指令部分被浏览器当做自定义数据，可以通过DOM API来获取。Angular初始化时会扫描HTML，之后进行编译和绑定。</p>
<p>这种技术的相比字符串模板的主要好处在于可以实现局部更新。</p>
<h3 id="living-template-virtual-dom">Living Template &amp; Virtual DOM</h3>
<p>Living Template的代表是Regular。这个技术是字符串模板和DOM based模板的混合体。Regular的模板是一种独立于DOM的DSL，放在<code>script</code>标签中。Regular经过parse后生成AST，然后进行各种绑定处理，最后生成DOM对象，插入到HTML之中。</p>
<p>这样生成的DOM结构是活动的，也就是说数据的更改会实时反映在模板之中。</p>
<p>Virtual DOM的代表自然是React。Virtual DOM从某种意义上来说不是一种模板技术。而是对组件状态的映射。Virtual DOM的JSX代码写在组件的<code>render</code>函数中，实际上就是JavaScript，所以理论上来说你可以在<code>render</code>中实现任何的逻辑。这一点比DSL更加强大。</p>
<h3 id="links">Links</h3>
<ul>
<li><a href="http://www.html-js.com/article/2313">一个对前端模板技术的全面总结</a></li>
</ul>
</div></div><footer class="footer"><address class="author">Copyright &copy;<a rel="author" href="https://github.com/joyeecheung" class="author-name">Joyee Cheung</a>-<a href="https://github.com/zxc0328/diary-content.git" class="source-repo">Source</a></address><p>Generated by<a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>