<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>April 11, 2016</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/styles/global.css"><link rel="stylesheet" href="/diary/styles/tomorrow.css"><link rel="stylesheet" href="/diary/styles/diary.css"></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>April 11, 2016</h1></header><div class="content"><div class="diary"><h2 id="notes-on-ydkjs-types-grammar-part-1">Notes on YDKJS:Types &amp; Grammar part 1</h2>
<h3 id="types">Types</h3>
<h4 id="-typeof-"><code>typeof()</code></h4>
<pre><code> <span class="hljs-keyword">typeof</span>(<span class="hljs-literal">null</span>) <span class="hljs-comment">// "object"</span>
 <span class="hljs-keyword">typeof</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{}) <span class="hljs-comment">// "function"</span>
</code></pre><h3 id="values">Values</h3>
<h4 id="array">Array</h4>
<p>Using <code>delete</code> on <code>array</code> value won&#39;t update the <code>length</code> value. And string keys won&#39;t count toward the <code>length</code>. But a string of number is assumed as number index rather than as string key.</p>
<p>So, don&#39;t use <code>delete</code> and don&#39;t use &quot;sparse&quot; array.</p>
<p>As for array-likes, see <a href="http://zxc0328.github.io/diary/2016/03/2016-03-24.html">previous diary</a>.</p>
<h4 id="string">String</h4>
<p><code>strings</code> in JavaScript are immutable. We can use nonmutation <code>array</code> methods with <code>strings</code>. Like <code>map()</code> and <code>join</code>.</p>
<p>The workaround here to use mutable <code>array</code> methods with <code>strings</code> is to convert the <code>string</code> into an <code>array</code>, do the magic and convert it back.</p>
<p>It&#39;s better to use <code>array</code> to store characters than using <code>string</code> if you want to use <code>array</code> badly.</p>
<h4 id="number">Number</h4>
<p><strong>Internals</strong></p>
<p>IEEE754 Double-precision floating-point format</p>
<p><strong>Base Presetation</strong></p>
<ul>
<li>Binary: 0B/0b  </li>
<li>Octal: 0O/0o  </li>
<li>Hexadecimal: 0X/0x  </li>
</ul>
<p><strong>Small Decimal Values</strong></p>
<p><code>0.1 + 0.2 === 0.3; // false</code></p>
<p>This fails because the floating-point format JS use for numbers.
The most commonly accepted practice is to use a <strong>tiny &quot;rounding error&quot;</strong> value as the tolerance for comparison. It is called &quot;machine epsilon,&quot; <code>2^-52 (2.220446049250313e-16)</code>.</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span></span> numbersCloseEnoughToEqual(n1,n2){
    <span class="hljs-keyword">return</span> Math.<span class="hljs-built_in">abs</span>( n1 - n2 ) &lt; <span class="hljs-keyword">Number</span>.<span class="hljs-built_in">EPSILON</span>
}
</code></pre><p><strong><code>isInteger()</code>polyfill</strong></p>
<pre><code><span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Number</span>.isInteger) {
    <span class="hljs-built_in">Number</span>.isInteger = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">num</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> num == <span class="hljs-string">"number"</span> &amp;&amp; num % <span class="hljs-number">1</span> == <span class="hljs-number">0</span>;
    };
}
</code></pre><p><strong>Undefined</strong></p>
<p><code>Null</code> is an identifier in JS while <code>undefined</code> is not.</p>
<p><strong>Friends don&#39;t let friends override <code>undefined</code>. Ever.</strong></p>
</div></div><footer class="footer"><address class="author">Copyright &copy;<a rel="author" href="https://github.com/zindex" class="author-name">Zindex</a>-<a href="https://github.com/zxc0328/diary-content" class="source-repo">Source</a></address><p>Generated by<a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>